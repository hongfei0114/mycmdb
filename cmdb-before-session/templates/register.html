{#<!DOCTYPE html>#}
{#<html lang="en">#}
{#<head>#}
{#    <meta charset="UTF-8">#}
{#    <title>{{ html_title }}</title>#}
{#    <link rel="stylesheet" href="/static/bootstrap-3.3.7/css/bootstrap.min.css">#}
{#</head>#}
{#<body>#}

{% extends 'mama.html' %}

{% block page-main %}
    <form action="/register/" method="post">
        {% csrf_token %}

        <div class="form-group">
            <h1>欢迎使用 请注册</h1>
        </div>
        <div class="form-group">
            <label for="exampleInputEmail1">用户名: </label>
            <input type="text" name="username" class="form-control" id="input1" placeholder="用户名"> <span
                style="color: red"></span>
        </div>
        <div class="form-group">
            <label for="exampleInputPassword1">密码: </label>
            <input type="password" name="password" class="form-control" id="input2"
                   placeholder="密码"> <span style="color: red"></span>
        </div>
        <div class="form-group">
            <label for="exampleInputPassword1">确认密码: </label>
            <input type="password" name="password_confirm" class="form-control" id="input3"
                   placeholder="确认密码"> <span style="color: red"></span>
        </div>
        <button type="submit" class="btn btn-default">注册</button>
        <button type="submit" class="btn btn-default"><a href="/login/">登录</a></button>

    </form>

    <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.js"></script>

    <script>
        $("#input1").blur(function () {
            $.ajax({
                url: '/check_user/', //往哪里发请求
                type: 'get',
                data: {
                    'username': $('#input1').val()
                },
                success: function (res) {
                    console.log(res);
                    $("#input1+span").text(res);
                }
            })
        })
        $("#input2").blur(function () {
            $.ajax({
                url: '/check_pass/', //往哪里发请求
                type: 'get',
                data: {
                    'password': $('#input2').val()
                },
                success: function (res) {
                    console.log(res);
                    $("#input2+span").text(res);
                }
            })
        })
        $("#input3").blur(function () {
            $.ajax({
                url: '/check_pass_confirm/', //往哪里发请求
                type: 'get',
                data: {
                    'password': $('#input2').val(),
                    'password_confirm': $('#input3').val(),
                },
                success: function (res) {
                    console.log(res);
                    $("#input3+span").text(res);
                }
            })
        })


    </script>


    <script src="/static/jquery.js"></script>


{% endblock %}

{##}
{#</body>#}
{#</html>#}